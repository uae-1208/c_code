#include<stdio.h>
char get_choice(void);
char get_first(void);
void count(void);
int get_int(void);
int main()
{
	char choice;
	while((choice=get_choice())!='q')
	{
		switch(choice)
		{
			case 'a':printf("Buy low, sell high.\n");
					 break;
			case 'b':printf("\a");
					 break;
			case 'c':count();
					 break;
		}
	}
	printf("Bye!");
	return 0;
 } 
 
char get_choice(void)
{
	char ch;
	printf("Enter the letter of your choice:\n");
	printf("a.advice          b.bell\n");
	printf("c.count           q.quit\n");
	ch=get_first();
	while((ch<'a'||'c'<ch)&&ch!='q')
	{
		printf("Please respond with a, b, c or q:");
		ch=get_first();
	}
	return ch;
}

char get_first(void)
{
	char ch;
	ch=getchar();
	while(getchar()!='\n')
		continue;
	return ch;
}

void count(void)
{
	int i,n;
	printf("Count how far?Enter an integer:");
	n=get_int();
	for(i=1;i<=n;i++)
		printf("%d\n",i);
	while(getchar()!='\n')
		continue;
}

int get_int(void)
{
	int n;
	char ch;
	while(scanf("%d",&n)!=1)
	{
		while((ch=getchar())!='\n')
			putchar(ch);
		printf(" is not an integer.\n");
		printf("Enter an integer:");
	}
	return n;
}
